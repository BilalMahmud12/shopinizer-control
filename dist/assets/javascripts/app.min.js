Vue.component('treeselect', VueTreeselect.Treeselect)

new Vue({
    el: '#app',
    data: {
        // UI
        notificationsIsOpen: false,
        hasNotificationsLabel: true,
        helpIsOpen: false,
        moreIsOpen: false,

        // Fields
        inventory: false,
        inventory_level: 1,
        purchasability: 1,
        related_products: true,
        customer_group_categories: true,
        customer_type: 1,
        banner_date_switch: 1,
        banner_page_switch: 1,
        promotion_type_switch: 1,
        discount_type_switch: 1,
        coupon_conditions_switch: 1,
        show_advanced_pricing: false,
        shoppers_password: false,
        discount_type: 'discount',
        shopper_logout: 1,
        logout_duration: 1,
        HSTS: 1,
        Header: 1,
        xFrame_header: true,
        Frame: 1,
        SMTP: 1,
        review_emails: false,
        order_invoice: false,

        // treeselect dump
        treeselect_value: null,
        treeselect_options: [
            {
                id: '1',
                label: 'Bath',
            },
            {
                id: '2',
                label: 'Kitchen',
                children: [
                    {
                        id: '4',
                        label: 'Publications',
                    },
                ],
            }, 
            {
                id: '3',
                label: 'Utility',
            }
        ],
    },
    components: {
        vuejsDatepicker
    },
    mounted() {
        this.initializeJQuery();
        
        // init page loading
        $(".animsition").animsition({
            inClass: 'fade-in',
            outClass: 'fade-out',
            inDuration: 800,
            outDuration: 0,
            linkElement: 'a:not([target="_blank"]):not([href^="#"])',
            loading: true,
            loadingParentElement: '.animsition-wrapper',
            loadingClass: 'animsition-loading',
            loadingInner: '<?xml version="1.0" encoding="utf-8"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin: auto; background: rgb(255, 255, 255) none repeat scroll 0% 0%; display: block; shape-rendering: auto;" width="200px" height="200px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" r="0" fill="none" stroke="#e90c59" stroke-width="2"> <animate attributeName="r" repeatCount="indefinite" dur="1s" values="0;40" keyTimes="0;1" keySplines="0 0.2 0.8 1" calcMode="spline" begin="-0.5s"></animate> <animate attributeName="opacity" repeatCount="indefinite" dur="1s" values="1;0" keyTimes="0;1" keySplines="0.2 0 0.8 1" calcMode="spline" begin="-0.5s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="#46dff0" stroke-width="2"> <animate attributeName="r" repeatCount="indefinite" dur="1s" values="0;40" keyTimes="0;1" keySplines="0 0.2 0.8 1" calcMode="spline"></animate> <animate attributeName="opacity" repeatCount="indefinite" dur="1s" values="1;0" keyTimes="0;1" keySplines="0.2 0 0.8 1" calcMode="spline"></animate></circle></svg>', 
            timeout: false,
            timeoutCountdown: 5000,
            onLoadEvent: true,
            browser: [ 'animation-duration', '-webkit-animation-duration'],
            overlay : false,
            overlayClass : 'animsition-overlay-slide',
            overlayParentElement : 'body',
            transition: function(url){ window.location.href = url; }
        });

        $(".editor").each(function() {
            new Quill(this, {
                theme: 'snow'
            });
        });

        // Records tables
        var mainTable = $('#records-table').DataTable({
            columnDefs: [
                {
                    "targets": 'no-sort',
                    "orderable": false,
                },
                {
                    targets: 0,
                    data: "select",
                    searchable: false,
                    orderable: false,
                    className: 'select-checkbox',
                    width: "4%"
                }
            ],
            responsive: true,
            select: {
                style: 'multi',
                selector: 'td:first-child'
            },
            order: [[ 2, 'asc' ]]
        });

        $('.select-checkbox').on('click', function() {
            $(this).find('.select-row').prop("checked", !$(this).find('.select-row').prop("checked"));
        });

        $('.select-all').click(function() {
            var all = mainTable.rows({ search: 'applied' }).count();
            var selectedRows = mainTable.rows({ selected: true, search: 'applied' }).count();

            if (selectedRows < all) {
                mainTable.rows({ search: 'applied' }).deselect();
                mainTable.rows({ search: 'applied' }).select();
                $(this).find('input').prop("checked", true);
                $('#records-table').find('.select-row').prop("checked", true);
            } else {
                mainTable.rows({ search: 'applied' }).deselect();
                $(this).find('input').prop("checked", false);
                $('#records-table').find('.select-row').prop("checked", false);
            }
        });

        Dropzone.autoDiscover = false;

        // Upload images init
        $("#upload-widget").dropzone({
            url: "/upload",
            dictDefaultMessage: "Drag & Drop images here to upload.",
            uploadMultiple: true,
            capture: true,
        });

        $('.cscroll').scrollSpy({
            target: $('.nscroll a'),
            activeClass: 'text-indigo-700 border-indigo-700'
        }).scroll();

        // Tippy
        tippy('[data-tippy-content]', {
            placement: 'right'
        });

        // Variations repeater
        $('.variations-repeater').repeater({
            isFirstItemUndeletable: true,
            repeaters: [{
                isFirstItemUndeletable: true,
                selector: '.variation-values-repeater'
            }]
        });

        // Customizations repeater
        $('.customizations-repeater').repeater({isFirstItemUndeletable: true});

        // Custom Fields repeater
        $('.custom-fields-repeater').repeater({isFirstItemUndeletable: true});

        // Option Values repeater
        $('.option-values-repeater').repeater({isFirstItemUndeletable: true});

        // Customer Address repeater
        $('.customer-address-repeater').repeater({isFirstItemUndeletable: true});

        // Category Discounts repeater
        $('.category-discounts-repeater').repeater({isFirstItemUndeletable: true});

        // Product Discounts repeater
        $('.product-discounts-repeater').repeater({isFirstItemUndeletable: true});
    },
    updated() {
        this.initializeJQuery();
        $('.product-discount-repeater').repeater({isFirstItemUndeletable: true});
    },
    methods: {
        initializeJQuery() {
            // Select2 init
            $(".select2-df").select2({});
        }
    }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlZ1ZS5jb21wb25lbnQoJ3RyZWVzZWxlY3QnLCBWdWVUcmVlc2VsZWN0LlRyZWVzZWxlY3QpXHJcblxyXG5uZXcgVnVlKHtcclxuICAgIGVsOiAnI2FwcCcsXHJcbiAgICBkYXRhOiB7XHJcbiAgICAgICAgLy8gVUlcclxuICAgICAgICBub3RpZmljYXRpb25zSXNPcGVuOiBmYWxzZSxcclxuICAgICAgICBoYXNOb3RpZmljYXRpb25zTGFiZWw6IHRydWUsXHJcbiAgICAgICAgaGVscElzT3BlbjogZmFsc2UsXHJcbiAgICAgICAgbW9yZUlzT3BlbjogZmFsc2UsXHJcblxyXG4gICAgICAgIC8vIEZpZWxkc1xyXG4gICAgICAgIGludmVudG9yeTogZmFsc2UsXHJcbiAgICAgICAgaW52ZW50b3J5X2xldmVsOiAxLFxyXG4gICAgICAgIHB1cmNoYXNhYmlsaXR5OiAxLFxyXG4gICAgICAgIHJlbGF0ZWRfcHJvZHVjdHM6IHRydWUsXHJcbiAgICAgICAgY3VzdG9tZXJfZ3JvdXBfY2F0ZWdvcmllczogdHJ1ZSxcclxuICAgICAgICBjdXN0b21lcl90eXBlOiAxLFxyXG4gICAgICAgIGJhbm5lcl9kYXRlX3N3aXRjaDogMSxcclxuICAgICAgICBiYW5uZXJfcGFnZV9zd2l0Y2g6IDEsXHJcbiAgICAgICAgcHJvbW90aW9uX3R5cGVfc3dpdGNoOiAxLFxyXG4gICAgICAgIGRpc2NvdW50X3R5cGVfc3dpdGNoOiAxLFxyXG4gICAgICAgIGNvdXBvbl9jb25kaXRpb25zX3N3aXRjaDogMSxcclxuICAgICAgICBzaG93X2FkdmFuY2VkX3ByaWNpbmc6IGZhbHNlLFxyXG4gICAgICAgIHNob3BwZXJzX3Bhc3N3b3JkOiBmYWxzZSxcclxuICAgICAgICBkaXNjb3VudF90eXBlOiAnZGlzY291bnQnLFxyXG4gICAgICAgIHNob3BwZXJfbG9nb3V0OiAxLFxyXG4gICAgICAgIGxvZ291dF9kdXJhdGlvbjogMSxcclxuICAgICAgICBIU1RTOiAxLFxyXG4gICAgICAgIEhlYWRlcjogMSxcclxuICAgICAgICB4RnJhbWVfaGVhZGVyOiB0cnVlLFxyXG4gICAgICAgIEZyYW1lOiAxLFxyXG4gICAgICAgIFNNVFA6IDEsXHJcbiAgICAgICAgcmV2aWV3X2VtYWlsczogZmFsc2UsXHJcbiAgICAgICAgb3JkZXJfaW52b2ljZTogZmFsc2UsXHJcblxyXG4gICAgICAgIC8vIHRyZWVzZWxlY3QgZHVtcFxyXG4gICAgICAgIHRyZWVzZWxlY3RfdmFsdWU6IG51bGwsXHJcbiAgICAgICAgdHJlZXNlbGVjdF9vcHRpb25zOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlkOiAnMScsXHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0JhdGgnLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZDogJzInLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdLaXRjaGVuJyxcclxuICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogJzQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ1B1YmxpY2F0aW9ucycsXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIH0sIFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZDogJzMnLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdVdGlsaXR5JyxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF0sXHJcbiAgICB9LFxyXG4gICAgY29tcG9uZW50czoge1xyXG4gICAgICAgIHZ1ZWpzRGF0ZXBpY2tlclxyXG4gICAgfSxcclxuICAgIG1vdW50ZWQoKSB7XHJcbiAgICAgICAgdGhpcy5pbml0aWFsaXplSlF1ZXJ5KCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gaW5pdCBwYWdlIGxvYWRpbmdcclxuICAgICAgICAkKFwiLmFuaW1zaXRpb25cIikuYW5pbXNpdGlvbih7XHJcbiAgICAgICAgICAgIGluQ2xhc3M6ICdmYWRlLWluJyxcclxuICAgICAgICAgICAgb3V0Q2xhc3M6ICdmYWRlLW91dCcsXHJcbiAgICAgICAgICAgIGluRHVyYXRpb246IDgwMCxcclxuICAgICAgICAgICAgb3V0RHVyYXRpb246IDAsXHJcbiAgICAgICAgICAgIGxpbmtFbGVtZW50OiAnYTpub3QoW3RhcmdldD1cIl9ibGFua1wiXSk6bm90KFtocmVmXj1cIiNcIl0pJyxcclxuICAgICAgICAgICAgbG9hZGluZzogdHJ1ZSxcclxuICAgICAgICAgICAgbG9hZGluZ1BhcmVudEVsZW1lbnQ6ICcuYW5pbXNpdGlvbi13cmFwcGVyJyxcclxuICAgICAgICAgICAgbG9hZGluZ0NsYXNzOiAnYW5pbXNpdGlvbi1sb2FkaW5nJyxcclxuICAgICAgICAgICAgbG9hZGluZ0lubmVyOiAnPD94bWwgdmVyc2lvbj1cIjEuMFwiIGVuY29kaW5nPVwidXRmLThcIj8+PHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIgc3R5bGU9XCJtYXJnaW46IGF1dG87IGJhY2tncm91bmQ6IHJnYigyNTUsIDI1NSwgMjU1KSBub25lIHJlcGVhdCBzY3JvbGwgMCUgMCU7IGRpc3BsYXk6IGJsb2NrOyBzaGFwZS1yZW5kZXJpbmc6IGF1dG87XCIgd2lkdGg9XCIyMDBweFwiIGhlaWdodD1cIjIwMHB4XCIgdmlld0JveD1cIjAgMCAxMDAgMTAwXCIgcHJlc2VydmVBc3BlY3RSYXRpbz1cInhNaWRZTWlkXCI+PGNpcmNsZSBjeD1cIjUwXCIgY3k9XCI1MFwiIHI9XCIwXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCIjZTkwYzU5XCIgc3Ryb2tlLXdpZHRoPVwiMlwiPiA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPVwiclwiIHJlcGVhdENvdW50PVwiaW5kZWZpbml0ZVwiIGR1cj1cIjFzXCIgdmFsdWVzPVwiMDs0MFwiIGtleVRpbWVzPVwiMDsxXCIga2V5U3BsaW5lcz1cIjAgMC4yIDAuOCAxXCIgY2FsY01vZGU9XCJzcGxpbmVcIiBiZWdpbj1cIi0wLjVzXCI+PC9hbmltYXRlPiA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPVwib3BhY2l0eVwiIHJlcGVhdENvdW50PVwiaW5kZWZpbml0ZVwiIGR1cj1cIjFzXCIgdmFsdWVzPVwiMTswXCIga2V5VGltZXM9XCIwOzFcIiBrZXlTcGxpbmVzPVwiMC4yIDAgMC44IDFcIiBjYWxjTW9kZT1cInNwbGluZVwiIGJlZ2luPVwiLTAuNXNcIj48L2FuaW1hdGU+PC9jaXJjbGU+PGNpcmNsZSBjeD1cIjUwXCIgY3k9XCI1MFwiIHI9XCIwXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCIjNDZkZmYwXCIgc3Ryb2tlLXdpZHRoPVwiMlwiPiA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPVwiclwiIHJlcGVhdENvdW50PVwiaW5kZWZpbml0ZVwiIGR1cj1cIjFzXCIgdmFsdWVzPVwiMDs0MFwiIGtleVRpbWVzPVwiMDsxXCIga2V5U3BsaW5lcz1cIjAgMC4yIDAuOCAxXCIgY2FsY01vZGU9XCJzcGxpbmVcIj48L2FuaW1hdGU+IDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9XCJvcGFjaXR5XCIgcmVwZWF0Q291bnQ9XCJpbmRlZmluaXRlXCIgZHVyPVwiMXNcIiB2YWx1ZXM9XCIxOzBcIiBrZXlUaW1lcz1cIjA7MVwiIGtleVNwbGluZXM9XCIwLjIgMCAwLjggMVwiIGNhbGNNb2RlPVwic3BsaW5lXCI+PC9hbmltYXRlPjwvY2lyY2xlPjwvc3ZnPicsIFxyXG4gICAgICAgICAgICB0aW1lb3V0OiBmYWxzZSxcclxuICAgICAgICAgICAgdGltZW91dENvdW50ZG93bjogNTAwMCxcclxuICAgICAgICAgICAgb25Mb2FkRXZlbnQ6IHRydWUsXHJcbiAgICAgICAgICAgIGJyb3dzZXI6IFsgJ2FuaW1hdGlvbi1kdXJhdGlvbicsICctd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbiddLFxyXG4gICAgICAgICAgICBvdmVybGF5IDogZmFsc2UsXHJcbiAgICAgICAgICAgIG92ZXJsYXlDbGFzcyA6ICdhbmltc2l0aW9uLW92ZXJsYXktc2xpZGUnLFxyXG4gICAgICAgICAgICBvdmVybGF5UGFyZW50RWxlbWVudCA6ICdib2R5JyxcclxuICAgICAgICAgICAgdHJhbnNpdGlvbjogZnVuY3Rpb24odXJsKXsgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB1cmw7IH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJChcIi5lZGl0b3JcIikuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbmV3IFF1aWxsKHRoaXMsIHtcclxuICAgICAgICAgICAgICAgIHRoZW1lOiAnc25vdydcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFJlY29yZHMgdGFibGVzXHJcbiAgICAgICAgdmFyIG1haW5UYWJsZSA9ICQoJyNyZWNvcmRzLXRhYmxlJykuRGF0YVRhYmxlKHtcclxuICAgICAgICAgICAgY29sdW1uRGVmczogW1xyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIFwidGFyZ2V0c1wiOiAnbm8tc29ydCcsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJvcmRlcmFibGVcIjogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldHM6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogXCJzZWxlY3RcIixcclxuICAgICAgICAgICAgICAgICAgICBzZWFyY2hhYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBvcmRlcmFibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3NlbGVjdC1jaGVja2JveCcsXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiNCVcIlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICByZXNwb25zaXZlOiB0cnVlLFxyXG4gICAgICAgICAgICBzZWxlY3Q6IHtcclxuICAgICAgICAgICAgICAgIHN0eWxlOiAnbXVsdGknLFxyXG4gICAgICAgICAgICAgICAgc2VsZWN0b3I6ICd0ZDpmaXJzdC1jaGlsZCdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb3JkZXI6IFtbIDIsICdhc2MnIF1dXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoJy5zZWxlY3QtY2hlY2tib3gnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5maW5kKCcuc2VsZWN0LXJvdycpLnByb3AoXCJjaGVja2VkXCIsICEkKHRoaXMpLmZpbmQoJy5zZWxlY3Qtcm93JykucHJvcChcImNoZWNrZWRcIikpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKCcuc2VsZWN0LWFsbCcpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgYWxsID0gbWFpblRhYmxlLnJvd3MoeyBzZWFyY2g6ICdhcHBsaWVkJyB9KS5jb3VudCgpO1xyXG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWRSb3dzID0gbWFpblRhYmxlLnJvd3MoeyBzZWxlY3RlZDogdHJ1ZSwgc2VhcmNoOiAnYXBwbGllZCcgfSkuY291bnQoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZFJvd3MgPCBhbGwpIHtcclxuICAgICAgICAgICAgICAgIG1haW5UYWJsZS5yb3dzKHsgc2VhcmNoOiAnYXBwbGllZCcgfSkuZGVzZWxlY3QoKTtcclxuICAgICAgICAgICAgICAgIG1haW5UYWJsZS5yb3dzKHsgc2VhcmNoOiAnYXBwbGllZCcgfSkuc2VsZWN0KCk7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmZpbmQoJ2lucHV0JykucHJvcChcImNoZWNrZWRcIiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAkKCcjcmVjb3Jkcy10YWJsZScpLmZpbmQoJy5zZWxlY3Qtcm93JykucHJvcChcImNoZWNrZWRcIiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBtYWluVGFibGUucm93cyh7IHNlYXJjaDogJ2FwcGxpZWQnIH0pLmRlc2VsZWN0KCk7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmZpbmQoJ2lucHV0JykucHJvcChcImNoZWNrZWRcIiwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgJCgnI3JlY29yZHMtdGFibGUnKS5maW5kKCcuc2VsZWN0LXJvdycpLnByb3AoXCJjaGVja2VkXCIsIGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBEcm9wem9uZS5hdXRvRGlzY292ZXIgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gVXBsb2FkIGltYWdlcyBpbml0XHJcbiAgICAgICAgJChcIiN1cGxvYWQtd2lkZ2V0XCIpLmRyb3B6b25lKHtcclxuICAgICAgICAgICAgdXJsOiBcIi91cGxvYWRcIixcclxuICAgICAgICAgICAgZGljdERlZmF1bHRNZXNzYWdlOiBcIkRyYWcgJiBEcm9wIGltYWdlcyBoZXJlIHRvIHVwbG9hZC5cIixcclxuICAgICAgICAgICAgdXBsb2FkTXVsdGlwbGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNhcHR1cmU6IHRydWUsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoJy5jc2Nyb2xsJykuc2Nyb2xsU3B5KHtcclxuICAgICAgICAgICAgdGFyZ2V0OiAkKCcubnNjcm9sbCBhJyksXHJcbiAgICAgICAgICAgIGFjdGl2ZUNsYXNzOiAndGV4dC1pbmRpZ28tNzAwIGJvcmRlci1pbmRpZ28tNzAwJ1xyXG4gICAgICAgIH0pLnNjcm9sbCgpO1xyXG5cclxuICAgICAgICAvLyBUaXBweVxyXG4gICAgICAgIHRpcHB5KCdbZGF0YS10aXBweS1jb250ZW50XScsIHtcclxuICAgICAgICAgICAgcGxhY2VtZW50OiAncmlnaHQnXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFZhcmlhdGlvbnMgcmVwZWF0ZXJcclxuICAgICAgICAkKCcudmFyaWF0aW9ucy1yZXBlYXRlcicpLnJlcGVhdGVyKHtcclxuICAgICAgICAgICAgaXNGaXJzdEl0ZW1VbmRlbGV0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgcmVwZWF0ZXJzOiBbe1xyXG4gICAgICAgICAgICAgICAgaXNGaXJzdEl0ZW1VbmRlbGV0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnLnZhcmlhdGlvbi12YWx1ZXMtcmVwZWF0ZXInXHJcbiAgICAgICAgICAgIH1dXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEN1c3RvbWl6YXRpb25zIHJlcGVhdGVyXHJcbiAgICAgICAgJCgnLmN1c3RvbWl6YXRpb25zLXJlcGVhdGVyJykucmVwZWF0ZXIoe2lzRmlyc3RJdGVtVW5kZWxldGFibGU6IHRydWV9KTtcclxuXHJcbiAgICAgICAgLy8gQ3VzdG9tIEZpZWxkcyByZXBlYXRlclxyXG4gICAgICAgICQoJy5jdXN0b20tZmllbGRzLXJlcGVhdGVyJykucmVwZWF0ZXIoe2lzRmlyc3RJdGVtVW5kZWxldGFibGU6IHRydWV9KTtcclxuXHJcbiAgICAgICAgLy8gT3B0aW9uIFZhbHVlcyByZXBlYXRlclxyXG4gICAgICAgICQoJy5vcHRpb24tdmFsdWVzLXJlcGVhdGVyJykucmVwZWF0ZXIoe2lzRmlyc3RJdGVtVW5kZWxldGFibGU6IHRydWV9KTtcclxuXHJcbiAgICAgICAgLy8gQ3VzdG9tZXIgQWRkcmVzcyByZXBlYXRlclxyXG4gICAgICAgICQoJy5jdXN0b21lci1hZGRyZXNzLXJlcGVhdGVyJykucmVwZWF0ZXIoe2lzRmlyc3RJdGVtVW5kZWxldGFibGU6IHRydWV9KTtcclxuXHJcbiAgICAgICAgLy8gQ2F0ZWdvcnkgRGlzY291bnRzIHJlcGVhdGVyXHJcbiAgICAgICAgJCgnLmNhdGVnb3J5LWRpc2NvdW50cy1yZXBlYXRlcicpLnJlcGVhdGVyKHtpc0ZpcnN0SXRlbVVuZGVsZXRhYmxlOiB0cnVlfSk7XHJcblxyXG4gICAgICAgIC8vIFByb2R1Y3QgRGlzY291bnRzIHJlcGVhdGVyXHJcbiAgICAgICAgJCgnLnByb2R1Y3QtZGlzY291bnRzLXJlcGVhdGVyJykucmVwZWF0ZXIoe2lzRmlyc3RJdGVtVW5kZWxldGFibGU6IHRydWV9KTtcclxuICAgIH0sXHJcbiAgICB1cGRhdGVkKCkge1xyXG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZUpRdWVyeSgpO1xyXG4gICAgICAgICQoJy5wcm9kdWN0LWRpc2NvdW50LXJlcGVhdGVyJykucmVwZWF0ZXIoe2lzRmlyc3RJdGVtVW5kZWxldGFibGU6IHRydWV9KTtcclxuICAgIH0sXHJcbiAgICBtZXRob2RzOiB7XHJcbiAgICAgICAgaW5pdGlhbGl6ZUpRdWVyeSgpIHtcclxuICAgICAgICAgICAgLy8gU2VsZWN0MiBpbml0XHJcbiAgICAgICAgICAgICQoXCIuc2VsZWN0Mi1kZlwiKS5zZWxlY3QyKHt9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pO1xyXG4iXX0=
