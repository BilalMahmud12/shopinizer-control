Vue.component('treeselect', VueTreeselect.Treeselect)

new Vue({
    el: '#app',
    data: {
        // Fields
        inventory: false,
        inventory_level: 1,
        purchasability: 1,
        related_products: true,
        customer_group_categories: true,
        customer_type: 1,
        banner_date_switch: 1,
        banner_page_switch: 1,
        promotion_type_switch: 1,
        discount_type_switch: 1,
        coupon_conditions_switch: 1,

        // UI
        notificationsIsOpen: false,
        hasNotificationsLabel: true,
        helpIsOpen: false,
        moreIsOpen: false,

        // treeselect dump
        treeselect_value: null,
        treeselect_options: [
            {
                id: '1',
                label: 'Bath',
            },
            {
                id: '2',
                label: 'Kitchen',
                children: [
                    {
                        id: '4',
                        label: 'Publications',
                    },
                ],
            }, 
            {
                id: '3',
                label: 'Utility',
            }
        ],
    },
    components: {
        vuejsDatepicker
    },
    mounted() {
        this.initializeJQuery();
        
        // init page loading
        $(".animsition").animsition({
            inClass: 'fade-in',
            outClass: 'fade-out',
            inDuration: 800,
            outDuration: 0,
            linkElement: 'a:not([target="_blank"]):not([href^="#"])',
            loading: true,
            loadingParentElement: '.animsition-wrapper',
            loadingClass: 'animsition-loading',
            loadingInner: '<?xml version="1.0" encoding="utf-8"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin: auto; background: rgb(255, 255, 255) none repeat scroll 0% 0%; display: block; shape-rendering: auto;" width="200px" height="200px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" r="0" fill="none" stroke="#e90c59" stroke-width="2"> <animate attributeName="r" repeatCount="indefinite" dur="1s" values="0;40" keyTimes="0;1" keySplines="0 0.2 0.8 1" calcMode="spline" begin="-0.5s"></animate> <animate attributeName="opacity" repeatCount="indefinite" dur="1s" values="1;0" keyTimes="0;1" keySplines="0.2 0 0.8 1" calcMode="spline" begin="-0.5s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="#46dff0" stroke-width="2"> <animate attributeName="r" repeatCount="indefinite" dur="1s" values="0;40" keyTimes="0;1" keySplines="0 0.2 0.8 1" calcMode="spline"></animate> <animate attributeName="opacity" repeatCount="indefinite" dur="1s" values="1;0" keyTimes="0;1" keySplines="0.2 0 0.8 1" calcMode="spline"></animate></circle></svg>', 
            timeout: false,
            timeoutCountdown: 5000,
            onLoadEvent: true,
            browser: [ 'animation-duration', '-webkit-animation-duration'],
            overlay : false,
            overlayClass : 'animsition-overlay-slide',
            overlayParentElement : 'body',
            transition: function(url){ window.location.href = url; }
        });

        $(".editor").each(function() {
            new Quill(this, {
                theme: 'snow'
            });
        });
    },
    updated() {
        this.initializeJQuery();
    },
    methods: {
        initializeJQuery() {
            $('.cscroll').scrollSpy({
                target: $('.nscroll a'),
                activeClass: 'text-indigo-700 border-indigo-700'
            }).scroll();
    
            // Tippy
            tippy('[data-tippy-content]', {
                placement: 'right'
            });
    
            // Records tables
            var mainTable = $('#records-table').DataTable({
                columnDefs: [
                    {
                        "targets": 'no-sort',
                        "orderable": false,
                    },
                    {
                        targets: 0,
                        data: "select",
                        searchable: false,
                        orderable: false,
                        className: 'select-checkbox',
                        width: "4%"
                    }
                ],
                responsive: true,
                select: {
                    style: 'multi',
                    selector: 'td:first-child'
                },
                order: [[ 2, 'asc' ]]
            });
    
            $('.select-checkbox').on('click', function() {
                $(this).find('.select-row').prop("checked", !$(this).find('.select-row').prop("checked"));
            });
    
            $('.select-all').click(function() {
                var all = mainTable.rows({ search: 'applied' }).count();
                var selectedRows = mainTable.rows({ selected: true, search: 'applied' }).count();
    
                if (selectedRows < all) {
                    mainTable.rows({ search: 'applied' }).deselect();
                    mainTable.rows({ search: 'applied' }).select();
                    $(this).find('input').prop("checked", true);
                    $('#records-table').find('.select-row').prop("checked", true);
                } else {
                    mainTable.rows({ search: 'applied' }).deselect();
                    $(this).find('input').prop("checked", false);
                    $('#records-table').find('.select-row').prop("checked", false);
                }
            });
    
            // Select2 init
            $(".select2-df").select2({});
    
            Dropzone.autoDiscover = false;
    
            // Upload images init
            $("#upload-widget").dropzone({
                url: "/upload",
                dictDefaultMessage: "Drag & Drop images here to upload.",
                uploadMultiple: true,
                capture: true,
            });
    
            // Variations repeater
            $('.variations-repeater').repeater({
                repeaters: [{
                    selector: '.variation-values-repeater'
                }]
            });
    
            // Customizations repeater
            $('.customizations-repeater').repeater({});
    
            // Custom Fields repeater
            $('.custom-fields-repeater').repeater({});
    
            // Option Values repeater
            $('.option-values-repeater').repeater({});
    
            // Customer Address repeater
            $('.customer-address-repeater').repeater({});
    
            // Category Discounts repeater
            $('.category-discounts-repeater').repeater({});
    
            // Product Discounts repeater
            $('.product-discounts-repeater').repeater({});
        }
    }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlZ1ZS5jb21wb25lbnQoJ3RyZWVzZWxlY3QnLCBWdWVUcmVlc2VsZWN0LlRyZWVzZWxlY3QpXHJcblxyXG5uZXcgVnVlKHtcclxuICAgIGVsOiAnI2FwcCcsXHJcbiAgICBkYXRhOiB7XHJcbiAgICAgICAgLy8gRmllbGRzXHJcbiAgICAgICAgaW52ZW50b3J5OiBmYWxzZSxcclxuICAgICAgICBpbnZlbnRvcnlfbGV2ZWw6IDEsXHJcbiAgICAgICAgcHVyY2hhc2FiaWxpdHk6IDEsXHJcbiAgICAgICAgcmVsYXRlZF9wcm9kdWN0czogdHJ1ZSxcclxuICAgICAgICBjdXN0b21lcl9ncm91cF9jYXRlZ29yaWVzOiB0cnVlLFxyXG4gICAgICAgIGN1c3RvbWVyX3R5cGU6IDEsXHJcbiAgICAgICAgYmFubmVyX2RhdGVfc3dpdGNoOiAxLFxyXG4gICAgICAgIGJhbm5lcl9wYWdlX3N3aXRjaDogMSxcclxuICAgICAgICBwcm9tb3Rpb25fdHlwZV9zd2l0Y2g6IDEsXHJcbiAgICAgICAgZGlzY291bnRfdHlwZV9zd2l0Y2g6IDEsXHJcbiAgICAgICAgY291cG9uX2NvbmRpdGlvbnNfc3dpdGNoOiAxLFxyXG5cclxuICAgICAgICAvLyBVSVxyXG4gICAgICAgIG5vdGlmaWNhdGlvbnNJc09wZW46IGZhbHNlLFxyXG4gICAgICAgIGhhc05vdGlmaWNhdGlvbnNMYWJlbDogdHJ1ZSxcclxuICAgICAgICBoZWxwSXNPcGVuOiBmYWxzZSxcclxuICAgICAgICBtb3JlSXNPcGVuOiBmYWxzZSxcclxuXHJcbiAgICAgICAgLy8gdHJlZXNlbGVjdCBkdW1wXHJcbiAgICAgICAgdHJlZXNlbGVjdF92YWx1ZTogbnVsbCxcclxuICAgICAgICB0cmVlc2VsZWN0X29wdGlvbnM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWQ6ICcxJyxcclxuICAgICAgICAgICAgICAgIGxhYmVsOiAnQmF0aCcsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlkOiAnMicsXHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0tpdGNoZW4nLFxyXG4gICAgICAgICAgICAgICAgY2hpbGRyZW46IFtcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnNCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiAnUHVibGljYXRpb25zJyxcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgfSwgXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlkOiAnMycsXHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1V0aWxpdHknLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXSxcclxuICAgIH0sXHJcbiAgICBjb21wb25lbnRzOiB7XHJcbiAgICAgICAgdnVlanNEYXRlcGlja2VyXHJcbiAgICB9LFxyXG4gICAgbW91bnRlZCgpIHtcclxuICAgICAgICB0aGlzLmluaXRpYWxpemVKUXVlcnkoKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBpbml0IHBhZ2UgbG9hZGluZ1xyXG4gICAgICAgICQoXCIuYW5pbXNpdGlvblwiKS5hbmltc2l0aW9uKHtcclxuICAgICAgICAgICAgaW5DbGFzczogJ2ZhZGUtaW4nLFxyXG4gICAgICAgICAgICBvdXRDbGFzczogJ2ZhZGUtb3V0JyxcclxuICAgICAgICAgICAgaW5EdXJhdGlvbjogODAwLFxyXG4gICAgICAgICAgICBvdXREdXJhdGlvbjogMCxcclxuICAgICAgICAgICAgbGlua0VsZW1lbnQ6ICdhOm5vdChbdGFyZ2V0PVwiX2JsYW5rXCJdKTpub3QoW2hyZWZePVwiI1wiXSknLFxyXG4gICAgICAgICAgICBsb2FkaW5nOiB0cnVlLFxyXG4gICAgICAgICAgICBsb2FkaW5nUGFyZW50RWxlbWVudDogJy5hbmltc2l0aW9uLXdyYXBwZXInLFxyXG4gICAgICAgICAgICBsb2FkaW5nQ2xhc3M6ICdhbmltc2l0aW9uLWxvYWRpbmcnLFxyXG4gICAgICAgICAgICBsb2FkaW5nSW5uZXI6ICc8P3htbCB2ZXJzaW9uPVwiMS4wXCIgZW5jb2Rpbmc9XCJ1dGYtOFwiPz48c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiBzdHlsZT1cIm1hcmdpbjogYXV0bzsgYmFja2dyb3VuZDogcmdiKDI1NSwgMjU1LCAyNTUpIG5vbmUgcmVwZWF0IHNjcm9sbCAwJSAwJTsgZGlzcGxheTogYmxvY2s7IHNoYXBlLXJlbmRlcmluZzogYXV0bztcIiB3aWR0aD1cIjIwMHB4XCIgaGVpZ2h0PVwiMjAwcHhcIiB2aWV3Qm94PVwiMCAwIDEwMCAxMDBcIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPVwieE1pZFlNaWRcIj48Y2lyY2xlIGN4PVwiNTBcIiBjeT1cIjUwXCIgcj1cIjBcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cIiNlOTBjNTlcIiBzdHJva2Utd2lkdGg9XCIyXCI+IDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9XCJyXCIgcmVwZWF0Q291bnQ9XCJpbmRlZmluaXRlXCIgZHVyPVwiMXNcIiB2YWx1ZXM9XCIwOzQwXCIga2V5VGltZXM9XCIwOzFcIiBrZXlTcGxpbmVzPVwiMCAwLjIgMC44IDFcIiBjYWxjTW9kZT1cInNwbGluZVwiIGJlZ2luPVwiLTAuNXNcIj48L2FuaW1hdGU+IDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9XCJvcGFjaXR5XCIgcmVwZWF0Q291bnQ9XCJpbmRlZmluaXRlXCIgZHVyPVwiMXNcIiB2YWx1ZXM9XCIxOzBcIiBrZXlUaW1lcz1cIjA7MVwiIGtleVNwbGluZXM9XCIwLjIgMCAwLjggMVwiIGNhbGNNb2RlPVwic3BsaW5lXCIgYmVnaW49XCItMC41c1wiPjwvYW5pbWF0ZT48L2NpcmNsZT48Y2lyY2xlIGN4PVwiNTBcIiBjeT1cIjUwXCIgcj1cIjBcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cIiM0NmRmZjBcIiBzdHJva2Utd2lkdGg9XCIyXCI+IDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9XCJyXCIgcmVwZWF0Q291bnQ9XCJpbmRlZmluaXRlXCIgZHVyPVwiMXNcIiB2YWx1ZXM9XCIwOzQwXCIga2V5VGltZXM9XCIwOzFcIiBrZXlTcGxpbmVzPVwiMCAwLjIgMC44IDFcIiBjYWxjTW9kZT1cInNwbGluZVwiPjwvYW5pbWF0ZT4gPGFuaW1hdGUgYXR0cmlidXRlTmFtZT1cIm9wYWNpdHlcIiByZXBlYXRDb3VudD1cImluZGVmaW5pdGVcIiBkdXI9XCIxc1wiIHZhbHVlcz1cIjE7MFwiIGtleVRpbWVzPVwiMDsxXCIga2V5U3BsaW5lcz1cIjAuMiAwIDAuOCAxXCIgY2FsY01vZGU9XCJzcGxpbmVcIj48L2FuaW1hdGU+PC9jaXJjbGU+PC9zdmc+JywgXHJcbiAgICAgICAgICAgIHRpbWVvdXQ6IGZhbHNlLFxyXG4gICAgICAgICAgICB0aW1lb3V0Q291bnRkb3duOiA1MDAwLFxyXG4gICAgICAgICAgICBvbkxvYWRFdmVudDogdHJ1ZSxcclxuICAgICAgICAgICAgYnJvd3NlcjogWyAnYW5pbWF0aW9uLWR1cmF0aW9uJywgJy13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uJ10sXHJcbiAgICAgICAgICAgIG92ZXJsYXkgOiBmYWxzZSxcclxuICAgICAgICAgICAgb3ZlcmxheUNsYXNzIDogJ2FuaW1zaXRpb24tb3ZlcmxheS1zbGlkZScsXHJcbiAgICAgICAgICAgIG92ZXJsYXlQYXJlbnRFbGVtZW50IDogJ2JvZHknLFxyXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBmdW5jdGlvbih1cmwpeyB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHVybDsgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKFwiLmVkaXRvclwiKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBuZXcgUXVpbGwodGhpcywge1xyXG4gICAgICAgICAgICAgICAgdGhlbWU6ICdzbm93J1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcbiAgICB1cGRhdGVkKCkge1xyXG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZUpRdWVyeSgpO1xyXG4gICAgfSxcclxuICAgIG1ldGhvZHM6IHtcclxuICAgICAgICBpbml0aWFsaXplSlF1ZXJ5KCkge1xyXG4gICAgICAgICAgICAkKCcuY3Njcm9sbCcpLnNjcm9sbFNweSh7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICQoJy5uc2Nyb2xsIGEnKSxcclxuICAgICAgICAgICAgICAgIGFjdGl2ZUNsYXNzOiAndGV4dC1pbmRpZ28tNzAwIGJvcmRlci1pbmRpZ28tNzAwJ1xyXG4gICAgICAgICAgICB9KS5zY3JvbGwoKTtcclxuICAgIFxyXG4gICAgICAgICAgICAvLyBUaXBweVxyXG4gICAgICAgICAgICB0aXBweSgnW2RhdGEtdGlwcHktY29udGVudF0nLCB7XHJcbiAgICAgICAgICAgICAgICBwbGFjZW1lbnQ6ICdyaWdodCdcclxuICAgICAgICAgICAgfSk7XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUmVjb3JkcyB0YWJsZXNcclxuICAgICAgICAgICAgdmFyIG1haW5UYWJsZSA9ICQoJyNyZWNvcmRzLXRhYmxlJykuRGF0YVRhYmxlKHtcclxuICAgICAgICAgICAgICAgIGNvbHVtbkRlZnM6IFtcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidGFyZ2V0c1wiOiAnbm8tc29ydCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwib3JkZXJhYmxlXCI6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRzOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBcInNlbGVjdFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hhYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXJhYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnc2VsZWN0LWNoZWNrYm94JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiNCVcIlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICByZXNwb25zaXZlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgc2VsZWN0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU6ICdtdWx0aScsXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICd0ZDpmaXJzdC1jaGlsZCdcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBvcmRlcjogW1sgMiwgJ2FzYycgXV1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICBcclxuICAgICAgICAgICAgJCgnLnNlbGVjdC1jaGVja2JveCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5maW5kKCcuc2VsZWN0LXJvdycpLnByb3AoXCJjaGVja2VkXCIsICEkKHRoaXMpLmZpbmQoJy5zZWxlY3Qtcm93JykucHJvcChcImNoZWNrZWRcIikpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIFxyXG4gICAgICAgICAgICAkKCcuc2VsZWN0LWFsbCcpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFsbCA9IG1haW5UYWJsZS5yb3dzKHsgc2VhcmNoOiAnYXBwbGllZCcgfSkuY291bnQoKTtcclxuICAgICAgICAgICAgICAgIHZhciBzZWxlY3RlZFJvd3MgPSBtYWluVGFibGUucm93cyh7IHNlbGVjdGVkOiB0cnVlLCBzZWFyY2g6ICdhcHBsaWVkJyB9KS5jb3VudCgpO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRSb3dzIDwgYWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFpblRhYmxlLnJvd3MoeyBzZWFyY2g6ICdhcHBsaWVkJyB9KS5kZXNlbGVjdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1haW5UYWJsZS5yb3dzKHsgc2VhcmNoOiAnYXBwbGllZCcgfSkuc2VsZWN0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5maW5kKCdpbnB1dCcpLnByb3AoXCJjaGVja2VkXCIsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJyNyZWNvcmRzLXRhYmxlJykuZmluZCgnLnNlbGVjdC1yb3cnKS5wcm9wKFwiY2hlY2tlZFwiLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFpblRhYmxlLnJvd3MoeyBzZWFyY2g6ICdhcHBsaWVkJyB9KS5kZXNlbGVjdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuZmluZCgnaW5wdXQnKS5wcm9wKFwiY2hlY2tlZFwiLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnI3JlY29yZHMtdGFibGUnKS5maW5kKCcuc2VsZWN0LXJvdycpLnByb3AoXCJjaGVja2VkXCIsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gU2VsZWN0MiBpbml0XHJcbiAgICAgICAgICAgICQoXCIuc2VsZWN0Mi1kZlwiKS5zZWxlY3QyKHt9KTtcclxuICAgIFxyXG4gICAgICAgICAgICBEcm9wem9uZS5hdXRvRGlzY292ZXIgPSBmYWxzZTtcclxuICAgIFxyXG4gICAgICAgICAgICAvLyBVcGxvYWQgaW1hZ2VzIGluaXRcclxuICAgICAgICAgICAgJChcIiN1cGxvYWQtd2lkZ2V0XCIpLmRyb3B6b25lKHtcclxuICAgICAgICAgICAgICAgIHVybDogXCIvdXBsb2FkXCIsXHJcbiAgICAgICAgICAgICAgICBkaWN0RGVmYXVsdE1lc3NhZ2U6IFwiRHJhZyAmIERyb3AgaW1hZ2VzIGhlcmUgdG8gdXBsb2FkLlwiLFxyXG4gICAgICAgICAgICAgICAgdXBsb2FkTXVsdGlwbGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjYXB0dXJlOiB0cnVlLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgIFxyXG4gICAgICAgICAgICAvLyBWYXJpYXRpb25zIHJlcGVhdGVyXHJcbiAgICAgICAgICAgICQoJy52YXJpYXRpb25zLXJlcGVhdGVyJykucmVwZWF0ZXIoe1xyXG4gICAgICAgICAgICAgICAgcmVwZWF0ZXJzOiBbe1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnLnZhcmlhdGlvbi12YWx1ZXMtcmVwZWF0ZXInXHJcbiAgICAgICAgICAgICAgICB9XVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIFxyXG4gICAgICAgICAgICAvLyBDdXN0b21pemF0aW9ucyByZXBlYXRlclxyXG4gICAgICAgICAgICAkKCcuY3VzdG9taXphdGlvbnMtcmVwZWF0ZXInKS5yZXBlYXRlcih7fSk7XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gQ3VzdG9tIEZpZWxkcyByZXBlYXRlclxyXG4gICAgICAgICAgICAkKCcuY3VzdG9tLWZpZWxkcy1yZXBlYXRlcicpLnJlcGVhdGVyKHt9KTtcclxuICAgIFxyXG4gICAgICAgICAgICAvLyBPcHRpb24gVmFsdWVzIHJlcGVhdGVyXHJcbiAgICAgICAgICAgICQoJy5vcHRpb24tdmFsdWVzLXJlcGVhdGVyJykucmVwZWF0ZXIoe30pO1xyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIEN1c3RvbWVyIEFkZHJlc3MgcmVwZWF0ZXJcclxuICAgICAgICAgICAgJCgnLmN1c3RvbWVyLWFkZHJlc3MtcmVwZWF0ZXInKS5yZXBlYXRlcih7fSk7XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gQ2F0ZWdvcnkgRGlzY291bnRzIHJlcGVhdGVyXHJcbiAgICAgICAgICAgICQoJy5jYXRlZ29yeS1kaXNjb3VudHMtcmVwZWF0ZXInKS5yZXBlYXRlcih7fSk7XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gUHJvZHVjdCBEaXNjb3VudHMgcmVwZWF0ZXJcclxuICAgICAgICAgICAgJCgnLnByb2R1Y3QtZGlzY291bnRzLXJlcGVhdGVyJykucmVwZWF0ZXIoe30pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSk7XHJcbiJdfQ==
